<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>New Pools</title>
<link rel="stylesheet" href="assets/style.css">
</head>
<body data-theme="dark">

<button class="toggle-theme" onclick="toggleTheme()">ðŸŒ—</button>

<header>
  <h1>New Pools</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="token.html">Token Lookup</a>
    <a href="swap.html">Swap</a>
    <a href="pools.html">Pools</a>
  </nav>
</header>

<section>
  <div class="card">
    <h2>New Pools (Raydium + Orca)</h2>
    <div id="poolFeed">Loading...</div>
  </div>
</section>

<footer>Â© 2025 TruthToshi</footer>

<script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>
<script src="https://unpkg.com/@raydium-io/raydium-sdk@latest/dist/index.iife.min.js"></script>
<script src="js/main.js"></script>
<script>
async function fetchNewPools() {
  try{
    const pools = await raydiumSDK.getMultiplePools(connection);
    const newPools = pools.filter(p=>Date.now()-p.createdAt*1000<24*60*60*1000);
    const poolFeed = document.getElementById("poolFeed");
    poolFeed.innerHTML = "";
    newPools.forEach(p=>{
      const div = document.createElement("div");
      div.innerText = p.name + " | Liquidity: " + p.lpTotalSupply.toFixed(2);
      poolFeed.appendChild(div);
    });
  } catch(e){ console.error(e);}
}
fetchNewPools();
setInterval(fetchNewPools, 30000);
</script>

</body>
</html>
